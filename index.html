

<?php
$servername = "localhost"; // adatbázis szerver neve
$username = "felhasznalo"; // adatbázis felhasználóneve
$password = "jelszo"; // adatbázis jelszava
$dbname = "adatbazis"; // adatbázis neve

$conn = mysqli_connect($servername, $username, $password, $dbname);
if (!$conn) {
    die("Connection failed: " . mysqli_connect_error());
}

// felhasználó azonosítása
if ($_SERVER["REQUEST_METHOD"] == "POST") {
    $username = $_POST["username"];
    $password = $_POST["password"];

    $sql = "SELECT id FROM users WHERE username = '$username' and password = '$password'";
    $result = mysqli_query($conn,$sql);
    $row = mysqli_fetch_array($result,MYSQLI_ASSOC);
    $count = mysqli_num_rows($result);

    // ha a felhasználói adatok helyesek, akkor átirányítunk a főoldalra
    if($count == 1) {
        header("location: index.html");
    }else {
        echo "Hibás felhasználónév vagy jelszó!";
    }
}
?>


<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <title>Login</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="center">
  <h1>Login</h1>
  <form method="post">
    <div class="txt_field">
      <input id="user" type="text" required>
      <span></span>
      <label>Username</label>
    </div>
    <div class="txt_field">
      <input id="pass" type="password" required>
      <span></span>
      <label>Password</label>
    </div>

    <input type="submit" value="Login" onclick="auth()">


    <div class="signup_link">
      A member? <a href="Registration.html">Signup</a>
    </div>

  </form>

  <form action="" method="post">
    <label for="username">Felhasználónév:</label>
    <input type="text" id="username" name="username"><br><br>
    <label for="password">Jelszó:</label>
    <input type="password" id="password" name="password"><br><br>
    <input type="submit" value="Bejelentkezés">
  </form>
</div>

</body>
</html>